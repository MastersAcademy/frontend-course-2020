<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="main.css"/>
    <title>Chat</title>
</head>
<body>
<section class="chat">
    <div class="wrapper">
        <div class="flex-column-center chat-box">
            <div class="bg-list chat-height bg-box__width__radius">
                <div class="error">Пустое сообщение</div>
                <div class="new-message chat-padding">
                    <form class="flex-row bg-form-and-input" id="form">
                        <input type="text" id="chat-new-message" autocomplete="off" placeholder="Add a new message...">
                        <button type="submit" id="chat-button-new-message" class="button">Go</button>
                    </form>
                </div>
                <div class="black-line"></div>
                <ul class="chat-wrapper">

                </ul>
            </div>
        </div>
    </div>
</section>
</body>
</html>


<script>
    const form = document.getElementById("form")
    const chatWrapper = document.querySelector(".chat-wrapper")
    const errorMessage = document.querySelector(".error")


    form.addEventListener("submit",function () {
        event.preventDefault()
        const message = document.createElement("li")
        let newMessage = document.getElementById('chat-new-message');
        message.innerText = newMessage.value.trim()
        if (newMessage.value.length <= 0) {
            errorMessage.style.opacity = "1"
            newMessage.value = ""}
        else {
            errorMessage.style.opacity = "0"
            chatWrapper.appendChild(message)
            newMessage.value = ""
        }
    })

</script>
