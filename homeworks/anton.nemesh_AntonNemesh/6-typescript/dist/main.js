(()=>{var t=document.querySelector("[data-key]"),e=document.querySelector("[data-block-key]"),s=document.querySelector("[data-total-scores]"),i=document.querySelector("[data-current-score]"),o=document.querySelector("[data-vision]"),r=document.querySelector("[data-loader]"),n=document.querySelector("[data-button-start]"),a=document.querySelector("[data-button-restart]"),c=document.querySelector("[data-button-stop]"),h=new(function(){function t(t,e,s,i,o,r,n,a,c){this.keyElement=t,this.scoreElement=e,this.infoMessageElement=s,this.visionElement=i,this.loaderElement=o,this.blockKeyElement=r,this.startButtonElement=n,this.restartButtonElement=a,this.stopButtonElement=c,this.score=100,this.currentKey="",this.interval=2e3,this.startGame=this.startGame.bind(this),this.setKey=this.setKey.bind(this)}return t.prototype.start=function(){this.setKey(),this.intervalStatus=setInterval(this.setKey,this.interval),this.infoMessageElement.classList.remove("finish"),this.updateScore(),this.resizeBlockVision(),this.startButtonElement.setAttribute("disabled","true"),this.restartButtonElement.setAttribute("disabled","true"),this.stopButtonElement.removeAttribute("disabled")},t.prototype.restart=function(){this.score=100,this.start()},t.prototype.stop=function(){this.updateScore(),this.resizeBlockVision(),this.finishGame(),this.startButtonElement.removeAttribute("disabled"),this.restartButtonElement.removeAttribute("disabled"),this.stopButtonElement.setAttribute("disabled","true")},t.prototype.startGame=function(t){this.currentKey=t.key,this.currentKey.toUpperCase()===this.keyElement.textContent.toUpperCase()?(this.addScore(),this.changeColorBlockKey("green")):(this.removeScore(),this.changeColorBlockKey("red")),this.updateScore(),this.limitScoreGame(),window.removeEventListener("keydown",this.startGame)},t.prototype.finishGame=function(){clearInterval(this.intervalStatus),this.stopButtonElement.setAttribute("disabled","true"),this.restartButtonElement.removeAttribute("disabled"),window.removeEventListener("keydown",this.startGame)},t.prototype.updateScore=function(){this.scoreElement.innerHTML=String(this.score)},t.prototype.resizeBlockVision=function(){this.visionElement.style.height=String(this.score+"px"),this.visionElement.style.width=String(this.score+"px")},t.prototype.showMessage=function(t,e){var s=this;this.infoMessageElement.textContent=t,e?(this.startButtonElement.setAttribute("disabled","true"),this.infoMessageElement.classList.add("finish")):(this.infoMessageElement.classList.add("active"),setTimeout((function(){s.infoMessageElement.classList.remove("active")}),700))},t.getRandomNumb=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.addScore=function(){var e=t.getRandomNumb(5,10);this.score=this.score+e,this.showMessage("+"+String(e),!1),this.resizeBlockVision()},t.prototype.removeScore=function(){var e=t.getRandomNumb(20,25);this.score=this.score-e,this.showMessage("-"+String(e),!1),this.resizeBlockVision()},t.prototype.limitScoreGame=function(){this.score>=200?(this.finishGame(),this.showMessage("You are \n winner!",!0)):this.score<=0&&(this.finishGame(),this.showMessage("Game Over!",!0))},t.prototype.setKey=function(){var e=this;this.loader();var s=this.score;this.keyElement.innerHTML="&#00"+t.getRandomNumb(65,90),window.addEventListener("keydown",this.startGame),setTimeout((function(){s===e.score&&(e.removeScore(),e.updateScore(),e.limitScoreGame())}),this.interval-10)},t.prototype.changeColorBlockKey=function(t){var e=this;this.blockKeyElement.classList.toggle(t),setTimeout((function(){return e.blockKeyElement.classList.toggle(t)}),500)},t.progressLoader=function(t,e,s,i){t++,e.style.width=t+"%",t==s&&clearInterval(i)},t.prototype.loader=function(){var e=setInterval(t.progressLoader,this.interval/100);t.progressLoader(0,this.loaderElement,100,e)},t}())(t,s,i,o,r,e,n,a,c);n.addEventListener("click",(function(){return h.start()})),a.addEventListener("click",(function(){return h.restart()})),c.addEventListener("click",(function(){return h.stop()}))})();