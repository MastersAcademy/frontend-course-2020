(()=>{"use strict";const e=document.querySelector(".head-cub-num"),t=document.querySelector(".cube"),s=document.querySelector(".cube-score"),r=document.querySelector(".cube-num"),i=document.querySelector(".cube-score-letters"),h=document.querySelector(".myBar"),n=(document.querySelector(".myProgress"),["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]);new class{constructor(e,t,s,r){this.headCubNum=e,this.cubeScore=t,this.cubeNum=s,this.cube=r,this.score=100,this.currentKey="",this.interval=2e3,this.sign="+",this.width=1,this.id=setInterval(this.frame,10),this.startKeysInterval=setInterval((()=>{this.cubeScore.style.background="#eee",this.setChar(),this.setScore(this.score),this.progressBar()}),this.interval)}start(){this.autoSaveInterval(),this.subscribeOnKeyPress()}autoSaveInterval(){this.startKeysInterval}setScore(e){e>=200&&(alert("player win"),clearInterval(this.startKeysInterval)),e<=0&&(alert("player lost"),clearInterval(this.startKeysInterval))}progressBar(){this.width,this.id,this.frame()}frame(){this.width>=100?clearInterval(this.id):(this.width++,h.style.width=this.width+"px")}setKey(e){let t=0;e==this.currentKey?(s.style.background="#228B22",t=this.randomNumberAdd(5,10),this.sign="+"):(s.style.background="#F00",t=this.randomNumberAdd(20,25),this.sign="-"),this.addScore(t),r.innerHTML=String(this.sign+t),r.classList.add("hidden"),setTimeout((()=>{r.classList.remove("hidden")}),1500)}addScore(t){"+"==this.sign?this.score+=t:this.score-=t,e.innerHTML=String(this.score)}subscribeOnKeyPress(){window.addEventListener("keydown",(e=>{this.setKey(e.key.toUpperCase())}))}randomNumberAdd(e,t){return Math.floor(Math.random()*(t-e+1)+e)}setChar(){this.currentKey=n[Math.floor(Math.random()*n.length)],i.innerHTML=this.currentKey}}(e,s,t,r).start()})();